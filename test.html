<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Nav Test</title>
    <style>
        /* Minimal styles for test - keep your real CSS separate */
        :root {
            --secondary-color: #264027;
        }

        body {
            font-family: Inter, Arial, Helvetica, sans-serif;
            margin: 0
        }

        .nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 18px 20px;
            background: #f8f9fa;
            position: relative;
        }

        .logo-bar {
            display: flex;
            align-items: center;
            gap: 8px
        }

        .navpart {
            display: flex;
            gap: 20px
        }

        .btn-main-page {
            padding: 8px 14px;
            border-radius: 8px;
            background: #1a4301;
            color: #fff;
            border: none
        }

        /* Mobile */
        .mobile-menu-icon {
            display: none;
            background: transparent;
            border: 0;
            font-size: 28px;
            cursor: pointer;
            color: var(--secondary-color)
        }

        @media (max-width:767px) {
            .nav {
                flex-direction: row;
                align-items: center
            }

            .navpart {
                display: none;
                flex-direction: column;
                width: 100%;
                gap: 18px;
                padding: 18px;
                box-shadow: 0 6px 24px rgba(0, 0, 0, 0.08);
                background: #fff;
                border-radius: 10px;
                margin-top: 12px
            }

            .navpart.active {
                display: flex
            }

            .mobile-menu-icon {
                display: block;
                position: absolute;
                right: 18px;
                top: 16px;
                z-index: 1000
            }

            .btn-main-page {
                display: none
            }

            /* hide main button on small test */
        }

        /* helper for visible debugging */
        .debug {
            font-size: 12px;
            color: #666;
            margin: 8px 20px
        }
    </style>
</head>

<body>

    <section class="nav" id="nav">
        <div class="logo-bar">
            <!-- Ionicon present for look: will load later in real page; we include fallback text control below -->
            <span style="font-weight:700;color:#1a4301">Trust Note</span>
        </div>

        <!-- MOBILE MENU ICON: keep this exact element in your page (ion-icon OR button fallback) -->
        <!-- If you use ion-icon in your real page, you can keep that. This test uses a button so toggling is obvious. -->
        <button class="mobile-menu-icon" aria-label="menu" id="mobileMenuBtn">☰</button>

        <div class="navpart" id="navPart">
            <a class="head-link" href="#main-page">
                <h4 style="margin:0">Home</h4>
            </a>
            <a class="head-link" href="#works">
                <h4 style="margin:0">How it Works</h4>
            </a>
            <a class="head-link" href="#about">
                <h4 style="margin:0">About Us</h4>
            </a>
            <a class="head-link" href="#footer">
                <h4 style="margin:0">Contact</h4>
            </a>
        </div>

        <button class="btn-main-page">Know More</button>
    </section>

    <p class="debug" id="debug">Console logs will appear in DevTools — open console to view.</p>

    <script>
        /*
          Robust menu toggle:
          - works if .mobile-menu-icon is a <button> or an <ion-icon>
          - toggles .navpart.active
          - swaps icon text or ion-icon name attribute
        */
        document.addEventListener('DOMContentLoaded', () => {
            const menuBtn = document.querySelector('.mobile-menu-icon');
            const navPart = document.querySelector('.navpart');

            console.log('DOM ready — menuBtn, navPart:', menuBtn, navPart);

            if (!menuBtn || !navPart) {
                console.error('Menu button or nav part not found. Ensure class names match exactly.');
                return;
            }

            // Click handler
            menuBtn.addEventListener('click', () => {
                navPart.classList.toggle('active');
                const isOpen = navPart.classList.contains('active');

                // If element is an <ion-icon> (custom element), we set attribute 'name'
                if (menuBtn.tagName.toLowerCase() === 'ion-icon') {
                    menuBtn.setAttribute('name', isOpen ? 'close-outline' : 'menu-outline');
                    console.log('Toggled ion-icon name ->', menuBtn.getAttribute('name'));
                } else {
                    // fallback: button text swap
                    menuBtn.textContent = isOpen ? '✕' : '☰';
                    console.log('Toggled fallback button text ->', menuBtn.textContent);
                }
            });

            // Extra helpful: close menu when clicking outside (mobile)
            document.addEventListener('click', (e) => {
                const clickInside = e.target.closest('.nav');
                if (!clickInside && navPart.classList.contains('active')) {
                    navPart.classList.remove('active');
                    if (menuBtn.tagName.toLowerCase() === 'ion-icon') {
                        menuBtn.setAttribute('name', 'menu-outline');
                    } else {
                        menuBtn.textContent = '☰';
                    }
                    console.log('Menu closed by outside click');
                }
            });

        });
    </script>

</body>

</html>